<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malla Curricular - Ingeniería en Telecomunicaciones</title>
    <style>
        :root {
            --unidad-basica: #e1ff00;
            --unidad-profesional: #0a12ff;
            --unidad-integracion: #1dff1a;
            --requisitos-graduacion: #ff0505;
            --itinerario-radiocom: #ff8d0a;
            --itinerario-comunicacion: #09b3ec;
            --itinerario-telematica: #f434c1;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        h1 {
            margin: 0;
            font-size: 28px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-area {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .filter-btn:hover {
            opacity: 0.8;
        }
        
        .filter-btn.active {
            transform: scale(1.05);
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        
        .search-box {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-width: 250px;
        }
        
        .malla-container {
            overflow-x: auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .malla-grid {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            gap: 15px;
            min-width: 1000px;
        }
        
        .semestre {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .semestre-header {
            background-color: #2c3e50;
            color: white;
            padding: 8px;
            text-align: center;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .curso {
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .curso:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .curso.selected {
            outline: 3px solid #333;
        }
        
        .curso-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .curso-info {
            font-size: 12px;
            display: flex;
            justify-content: space-between;
        }
        
        .curso-sct {
            background-color: rgba(0,0,0,0.1);
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .curso-area {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
        }
        
        /* Colores por área */
        .unidad-basica {
            background-color: var(--unidad-basica);
        }
        
        .unidad-profesional {
            background-color: var(--unidad-profesional);
            color: white;
        }
        
        .unidad-integracion {
            background-color: var(--unidad-integracion);
        }
        
        .requisitos-graduacion {
            background-color: var(--requisitos-graduacion);
            color: white;
        }
        
        .itinerario-radiocom {
            background-color: var(--itinerario-radiocom);
        }
        
        .itinerario-comunicacion {
            background-color: var(--itinerario-comunicacion);
            color: white;
        }
        
        .itinerario-telematica {
            background-color: var(--itinerario-telematica);
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
        
        .curso-details {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-top: 20px;
        }
        
        .curso-details h3 {
            margin-top: 0;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .curso-details p {
            margin: 5px 0;
        }
        
        .prerequisitos {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .prerequisitos-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 5px;
        }
        
        .prerequisito {
            background-color: #f0f0f0;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 14px;
            color: #666;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            .search-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Malla Curricular - Ingeniería en Telecomunicaciones</h1>
        </div>
    </header>
    
    <div class="container">
        <div class="controls">
            <div class="filter-area">
                <button class="filter-btn unidad-basica active" data-area="Unidad Básica">Básica</button>
                <button class="filter-btn unidad-profesional active" data-area="Unidad Profesional">Profesional</button>
                <button class="filter-btn unidad-integracion active" data-area="Unidad de Integración Curricular">Integración</button>
                <button class="filter-btn requisitos-graduacion active" data-area="Requisitos Para Graduacion">Graduación</button>
                <button class="filter-btn itinerario-radiocom active" data-area="Itinerario Radiocomunicación">Radiocom.</button>
                <button class="filter-btn itinerario-comunicacion active" data-area="Itinerario Comunicación">Comunicación</button>
                <button class="filter-btn itinerario-telematica active" data-area="Itinerario Telemática">Telemática</button>
            </div>
            <input type="text" class="search-box" placeholder="Buscar curso...">
        </div>
        
        <div class="malla-container">
            <div class="malla-grid" id="malla-grid">
                <!-- La malla se generará con JavaScript -->
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color unidad-basica"></div>
                <span>Unidad Básica</span>
            </div>
            <div class="legend-item">
                <div class="legend-color unidad-profesional"></div>
                <span>Unidad Profesional</span>
            </div>
            <div class="legend-item">
                <div class="legend-color unidad-integracion"></div>
                <span>Integración Curricular</span>
            </div>
            <div class="legend-item">
                <div class="legend-color requisitos-graduacion"></div>
                <span>Requisitos Graduación</span>
            </div>
            <div class="legend-item">
                <div class="legend-color itinerario-radiocom"></div>
                <span>Itinerario Radiocom.</span>
            </div>
            <div class="legend-item">
                <div class="legend-color itinerario-comunicacion"></div>
                <span>Itinerario Comunicación</span>
            </div>
            <div class="legend-item">
                <div class="legend-color itinerario-telematica"></div>
                <span>Itinerario Telemática</span>
            </div>
        </div>
        
        <div class="curso-details hidden" id="curso-details">
            <h3 id="detail-title">Nombre del Curso</h3>
            <p><strong>Área:</strong> <span id="detail-area">Área del curso</span></p>
            <p><strong>Semestre:</strong> <span id="detail-semestre">Semestre</span></p>
            <p><strong>Año:</strong> <span id="detail-year">Año</span></p>
            <p><strong>Horas:</strong> <span id="detail-horas">0</span></p>
            <p><strong>SCT:</strong> <span id="detail-sct">0</span> créditos</p>
            
            <div class="prerequisitos" id="prerequisitos-container">
                <strong>Prerrequisitos:</strong>
                <div class="prerequisitos-list" id="prerequisitos-list">
                    <!-- Prerrequisitos se generarán aquí -->
                </div>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="total-cursos">0</div>
                <div class="stat-label">Cursos totales</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="total-horas">0</div>
                <div class="stat-label">Horas totales</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="total-sct">0</div>
                <div class="stat-label">Créditos SCT</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="selected-cursos">0</div>
                <div class="stat-label">Cursos seleccionados</div>
            </div>
        </div>
    </div>

    <script>
        // Datos de la malla curricular
        const mallaData = {
            "data": [
                {
                    "id": 1,
                    "preRequisitos": [],
                    "name": "Algebra Lineal  MATD113",
                    "area": "Unidad Básica",
                    "directas": 144,
                    "sct": 3,
                    "year": 1,
                    "semestre": 1,
                    "selected": false
                },
                {
                    "id": 2,
                    "preRequisitos": [1, 10],
                    "name": "Ecuaciones Diferenciales Ordinarias MATD213",
                    "area": "Unidad Básica",
                    "directas": 144,
                    "sct": 3,
                    "year": 1,
                    "semestre": 2,
                    "selected": false
                },
                {
                    "id": 3,
                    "preRequisitos": [2, 16],
                    "name": "Matemática Avanzada IEED312",
                    "area": "Unidad Básica",
                    "directas": 96,
                    "sct": 2,
                    "year": 2,
                    "semestre": 3,
                    "selected": false
                },
                {
                    "id": 4,
                    "preRequisitos": [24],
                    "name": "Instalación Eléctrica y Comunicación  IEED413",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "year": 2,
                    "semestre": 4,
                    "selected": false
                },
                {
                    "id": 5,
                    "preRequisitos": [27],
                    "name": "Fundamentos de Comunicaciones TELD513",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "year": 3,
                    "semestre": 5,
                    "selected": false
                },
                {
                    "id": 6,
                    "preRequisitos": [5],
                    "name": "Comunicación Digital TELD613",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "year": 3,
                    "semestre": 6,
                    "selected": false
                },
                {
                    "id": 7,
                    "preRequisitos": [6],
                    "name": "Comunicación Ópticas TELD713 ",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "year": 4,
                    "semestre": 7,
                    "selected": false
                },
                {
                    "id": 8,
                    "preRequisitos": [39, 42, 45],
                    "name": "Itinerario Basico TELD800",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "year": 4,
                    "semestre": 8,
                    "selected": false
                },
                {
                    "id": 9,
                    "preRequisitos": [8],
                    "name": "Itinerario Avanzado TELD900",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "year": 5,
                    "semestre": 9,
                    "selected": false
                },
                {
                    "id": 10,
                    "preRequisitos": [],
                    "name": "Calculo de una variable MATD123 ",
                    "area": "Unidad Básica",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 11,
                    "preRequisitos": [],
                    "name": "Mecánica Newtoniana FISD134",
                    "area": "Unidad Básica",
                    "directas": 192,
                    "sct": 4,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 12,
                    "preRequisitos": [],
                    "name": "Química General QUID143",
                    "area": "Unidad Básica",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 13,
                    "preRequisitos": [],
                    "name": "Herramientas Informáticas ICOD111 ",
                    "area": "Unidad Básica",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 14,
                    "preRequisitos": [],
                    "name": "Comunicaion Oral y Escrita CSHD11",
                    "area": "Unidad Básica",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 15,
                    "preRequisitos": [10],
                    "name": "Probabilidad y Estadística Básica MATD223 ",
                    "area": "Unidad Básica",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 16,
                    "preRequisitos": [10],
                    "name": "Calculo Vectorial IEED232",
                    "area": "Unidad Básica",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 17,
                    "preRequisitos": [11],
                    "name": "Fundamentos de Electromagnetismo IEED242",
                    "area": "Unidad Básica",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 18,
                    "preRequisitos": [13],
                    "name": "Programación  IEED252",
                    "area": "Unidad Básica",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 19,
                    "preRequisitos": [],
                    "name": "Análisis Socioeconómico y Político del Ecuador CSHD211",
                    "area": "Unidad Básica",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 20,
                    "preRequisitos": [],
                    "name": "Electrotecnia IEED272",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 21,
                    "preRequisitos": [20],
                    "name": "Sistema Digitales IEED323",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 22,
                    "preRequisitos": [20],
                    "name": "Dispositivos Electrónicos IEED333",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 23,
                    "preRequisitos": [16, 17],
                    "name": "Teoría Electromagnética IEED342",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 24,
                    "preRequisitos": [2, 20],
                    "name": "Fundamentos de Circuitos Eléctricos IEE353 ",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 25,
                    "preRequisitos": [],
                    "name": "Asignatura de Artes y Humanidades CSHD300",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 0,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 26,
                    "preRequisitos": [15, 21],
                    "name": "Matemática Discreta IEED371 ",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 3,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 27,
                    "preRequisitos": [3],
                    "name": "Análisis de Señales Discretas Para Comunicaciones TELD423",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 4,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 28,
                    "preRequisitos": [22],
                    "name": "Circuitos Electrónicos  IEED433",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 4,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 29,
                    "preRequisitos": [18],
                    "name": "Programación Avanzada ITID433",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 4,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 30,
                    "preRequisitos": [18],
                    "name": "Sistema Operativo Linux TELD452",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 4,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 31,
                    "preRequisitos": [],
                    "name": "Asignatura de Economía y Sociedad  CSHD400",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 4,
                    "year": 2,
                    "selected": false
                },
                {
                    "id": 32,
                    "preRequisitos": [27],
                    "name": "Teoría de la Información y Codificación TELD 522",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 33,
                    "preRequisitos": [27],
                    "name": "Procesamiento Digital de Señales TELD532",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 34,
                    "preRequisitos": [21, 30],
                    "name": "Sistema Embebidos  ITID553",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 35,
                    "preRequisitos": [23],
                    "name": "Sistema de Trasmisión TLED553 ",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 36,
                    "preRequisitos": [4],
                    "name": "Sistema de Cableado Estructural ITID512",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 37,
                    "preRequisitos": [5],
                    "name": "Telemática Básica  TELD623",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 6,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 38,
                    "preRequisitos": [28, 35],
                    "name": "Electrónica de Radiofrecuencia TELD633",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 6,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 39,
                    "preRequisitos": [33, 34],
                    "name": "Aplicación con Sistemas Embebidos TELD642",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 6,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 40,
                    "preRequisitos": [35],
                    "name": "Propagación y Antenas TELD654 ",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 6,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 41,
                    "preRequisitos": [],
                    "name": "Gestión Organizacional ADM511 ",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 6,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 42,
                    "preRequisitos": [37],
                    "name": "Telemática Avanzada TELD723",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 43,
                    "preRequisitos": [6, 34],
                    "name": "Comunicación Inalámbricas TELD733",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 44,
                    "preRequisitos": [37],
                    "name": "Telefonia IP TELD743",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 45,
                    "preRequisitos": [38, 40],
                    "name": "Ingeniería de Microondas TELD752 ",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 46,
                    "preRequisitos": [41],
                    "name": "Gestión de Procesos y Calidad ADMD611 ",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 47,
                    "preRequisitos": [7],
                    "name": "Redes Ópticas TELD823  ",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 48,
                    "preRequisitos": [42],
                    "name": "Introcucion a Diseños de Redes TELD833",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 49,
                    "preRequisitos": [42],
                    "name": "Sistema Celulares TELD843",
                    "area": "Unidad Profesional",
                    "directas": 144,
                    "sct": 3,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 50,
                    "preRequisitos": [42],
                    "name": "Fundamentos de Seguridad TELD852 ",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 0,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 50,
                    "preRequisitos": [41],
                    "name": "Ingeniería Financiera TELD711  ",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 51,
                    "preRequisitos": [],
                    "name": "Diseño de Proyectos de Telecomunicaciones TELD871",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 52,
                    "preRequisitos": [],
                    "name": "Practicas Profesionales PRLD105 ",
                    "area": "Unidad Profesional",
                    "directas": 240,
                    "sct": 5,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 53,
                    "preRequisitos": [],
                    "name": "Practica de Servicio Comunitario PSCD202",
                    "area": "Unidad Profesional",
                    "directas": 96,
                    "sct": 2,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 54,
                    "preRequisitos": [45],
                    "name": "Marco Regulatorio de los Servicios de Telecomunicaciones TELD941",
                    "area": "Unidad Profesional",
                    "directas": 48,
                    "sct": 1,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 55,
                    "preRequisitos": [],
                    "name": "Trabajo de Integración curricular / Examen de Carácter Complexivo TITD201",
                    "area": "Unidad de Integración Curricular",
                    "directas": 240,
                    "sct": 5,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 56,
                    "preRequisitos": [],
                    "name": "Ingles B1 IEXD200",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 57,
                    "preRequisitos": [],
                    "name": "Deportes DEPD110",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 1,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 58,
                    "preRequisitos": [],
                    "name": "Clubes SOCD210",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 59,
                    "preRequisitos": [],
                    "name": "Metodología de Estudio IEED210",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 2,
                    "year": 1,
                    "selected": false
                },
                {
                    "id": 60,
                    "preRequisitos": [],
                    "name": "Asignatura de Comunicación CSHD500 ",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 5,
                    "year": 3,
                    "selected": false
                },
                {
                    "id": 61,
                    "preRequisitos": [],
                    "name": "Emprendimiento ADMD700",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 7,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 62,
                    "preRequisitos": [],
                    "name": "Formulación y Evaluación de Proyectos ADMD800",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 63,
                    "preRequisitos": [],
                    "name": "Ecologia y Ambiente AMBD900",
                    "area": "Requisitos Para Graduacion",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 64,
                    "preRequisitos": [8],
                    "name": "Componentes Pasivos de Radiofrecuencia TELD801",
                    "area": "Itinerario Radiocomunicación",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 65,
                    "preRequisitos": [64],
                    "name": "Componentes Activos de Radiofrecuencia TELD901",
                    "area": "Itinerario Radiocomunicación",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 66,
                    "preRequisitos": [8],
                    "name": "Técnicas Avanzadas de Procesamiento Digital de Señales TELD802 ",
                    "area": "Itinerario Comunicación",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 67,
                    "preRequisitos": [66],
                    "name": "Técnicas Avanzadas De Clasificación de Señales TELD902",
                    "area": "Itinerario Comunicación",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                },
                {
                    "id": 68,
                    "preRequisitos": [8],
                    "name": "Conmutación y Enrutamiento Avanzado TELD803",
                    "area": "Itinerario Telemática",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 8,
                    "year": 4,
                    "selected": false
                },
                {
                    "id": 69,
                    "preRequisitos": [],
                    "name": "Tecnología Avanzadas en Redes de Datos TELD903",
                    "area": "Itinerario Telemática",
                    "directas": 0,
                    "sct": 0,
                    "semestre": 9,
                    "year": 5,
                    "selected": false
                }
            ],
            "mallaAreas": [
                {
                    "name": "Unidad Básica",
                    "backgroundColor": "#e1ff00"
                },
                {
                    "name": "Unidad Profesional",
                    "backgroundColor": "#0a12ff"
                },
                {
                    "name": "Unidad de Integración Curricular",
                    "backgroundColor": "#1dff1a"
                },
                {
                    "name": "Requisitos Para Graduacion",
                    "backgroundColor": "#ff0505"
                },
                {
                    "name": "Itinerario Radiocomunicación",
                    "backgroundColor": "#ff8d0a"
                },
                {
                    "name": "Itinerario Comunicación",
                    "backgroundColor": "#09b3ec"
                },
                {
                    "name": "Itinerario Telemática",
                    "backgroundColor": "#f434c1"
                }
            ]
        };

        // Variables globales
        let selectedAreas = [
            "Unidad Básica", 
            "Unidad Profesional", 
            "Unidad de Integración Curricular", 
            "Requisitos Para Graduacion",
            "Itinerario Radiocomunicación",
            "Itinerario Comunicación",
            "Itinerario Telemática"
        ];
        let searchTerm = '';
        let selectedCourses = [];

        // Función para inicializar la malla
        function initMalla() {
            renderMalla();
            updateStats();
            setupEventListeners();
        }

        // Función para renderizar la malla
        function renderMalla() {
            const mallaGrid = document.getElementById('malla-grid');
            mallaGrid.innerHTML = '';

            // Crear encabezados de semestre
            for (let i = 1; i <= 9; i++) {
                const semestreDiv = document.createElement('div');
                semestreDiv.className = 'semestre';
                
                const semestreHeader = document.createElement('div');
                semestreHeader.className = 'semestre-header';
                semestreHeader.textContent = `Semestre ${i}`;
                semestreDiv.appendChild(semestreHeader);
                
                mallaGrid.appendChild(semestreDiv);
            }

            // Agregar cursos a los semestres correspondientes
            mallaData.data.forEach(curso => {
                if (shouldShowCourse(curso)) {
                    const semestreIndex = curso.semestre - 1;
                    const semestreDiv = mallaGrid.children[semestreIndex];
                    
                    const cursoDiv = document.createElement('div');
                    cursoDiv.className = `curso ${getAreaClass(curso.area)} ${curso.selected ? 'selected' : ''}`;
                    cursoDiv.setAttribute('data-id', curso.id);
                    cursoDiv.setAttribute('data-area', curso.area);
                    
                    cursoDiv.innerHTML = `
                        <div class="curso-title">${curso.name}</div>
                        <div class="curso-info">
                            <span>${curso.directas}h</span>
                            <span class="curso-sct">${curso.sct}SCT</span>
                        </div>
                        <div class="curso-area ${getAreaClass(curso.area)}"></div>
                    `;
                    
                    semestreDiv.appendChild(cursoDiv);
                }
            });
        }

        // Función para determinar si un curso debe mostrarse
        function shouldShowCourse(curso) {
            // Filtrar por área seleccionada
            const areaMatch = selectedAreas.includes(curso.area);
            
            // Filtrar por término de búsqueda
            const searchMatch = curso.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                              curso.area.toLowerCase().includes(searchTerm.toLowerCase());
            
            return areaMatch && searchMatch;
        }

        // Función para obtener la clase CSS según el área
        function getAreaClass(area) {
            switch(area) {
                case 'Unidad Básica': return 'unidad-basica';
                case 'Unidad Profesional': return 'unidad-profesional';
                case 'Unidad de Integración Curricular': return 'unidad-integracion';
                case 'Requisitos Para Graduacion': return 'requisitos-graduacion';
                case 'Itinerario Radiocomunicación': return 'itinerario-radiocom';
                case 'Itinerario Comunicación': return 'itinerario-comunicacion';
                case 'Itinerario Telemática': return 'itinerario-telematica';
                default: return '';
            }
        }

        // Función para configurar los event listeners
        function setupEventListeners() {
            // Filtros por área
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const area = this.getAttribute('data-area');
                    
                    if (this.classList.contains('active')) {
                        // Remover el área del filtro
                        selectedAreas = selectedAreas.filter(a => a !== area);
                        this.classList.remove('active');
                    } else {
                        // Agregar el área al filtro
                        selectedAreas.push(area);
                        this.classList.add('active');
                    }
                    
                    renderMalla();
                });
            });
            
            // Búsqueda
            document.querySelector('.search-box').addEventListener('input', function() {
                searchTerm = this.value;
                renderMalla();
            });
            
            // Selección de cursos
            document.getElementById('malla-grid').addEventListener('click', function(e) {
                const cursoElement = e.target.closest('.curso');
                if (cursoElement) {
                    const cursoId = parseInt(cursoElement.getAttribute('data-id'));
                    const curso = mallaData.data.find(c => c.id === cursoId);
                    
                    // Toggle selección
                    curso.selected = !curso.selected;
                    cursoElement.classList.toggle('selected');
                    
                    // Actualizar lista de cursos seleccionados
                    if (curso.selected) {
                        selectedCourses.push(curso);
                    } else {
                        selectedCourses = selectedCourses.filter(c => c.id !== curso.id);
                    }
                    
                    // Mostrar detalles del curso
                    showCourseDetails(curso);
                    
                    // Actualizar estadísticas
                    updateStats();
                }
            });
        }

        // Función para mostrar los detalles de un curso
        function showCourseDetails(curso) {
            const detailsDiv = document.getElementById('curso-details');
            const prerequisitosContainer = document.getElementById('prerequisitos-container');
            const prerequisitosList = document.getElementById('prerequisitos-list');
            
            // Actualizar información básica
            document.getElementById('detail-title').textContent = curso.name;
            document.getElementById('detail-area').textContent = curso.area;
            document.getElementById('detail-semestre').textContent = curso.semestre;
            document.getElementById('detail-year').textContent = curso.year;
            document.getElementById('detail-horas').textContent = curso.directas;
            document.getElementById('detail-sct').textContent = curso.sct;
            
            // Actualizar prerrequisitos
            prerequisitosList.innerHTML = '';
            
            if (curso.preRequisitos.length > 0) {
                curso.preRequisitos.forEach(prereqId => {
                    const prereq = mallaData.data.find(c => c.id === prereqId);
                    if (prereq) {
                        const prereqElement = document.createElement('span');
                        prereqElement.className = 'prerequisito';
                        prereqElement.textContent = prereq.name;
                        prereqElement.style.backgroundColor = getAreaColor(prereq.area);
                        prereqElement.style.color = shouldUseWhiteText(prereq.area) ? 'white' : 'black';
                        prerequisitosList.appendChild(prereqElement);
                    }
                });
                prerequisitosContainer.classList.remove('hidden');
            } else {
                prerequisitosContainer.classList.add('hidden');
            }
            
            // Mostrar el contenedor de detalles
            detailsDiv.classList.remove('hidden');
        }

        // Función para obtener el color de fondo según el área
        function getAreaColor(area) {
            const areaData = mallaData.mallaAreas.find(a => a.name === area);
            return areaData ? areaData.backgroundColor : '#ccc';
        }

        // Función para determinar si el texto debe ser blanco (para mejor contraste)
        function shouldUseWhiteText(area) {
            return area === 'Unidad Profesional' || area === 'Requisitos Para Graduacion' || area === 'Itinerario Comunicación';
        }

        // Función para actualizar las estadísticas
        function updateStats() {
            // Calcular totales
            const totalCursos = mallaData.data.length;
            const totalHoras = mallaData.data.reduce((sum, curso) => sum + curso.directas, 0);
            const totalSCT = mallaData.data.reduce((sum, curso) => sum + curso.sct, 0);
            const selectedCursosCount = selectedCourses.length;
            
            // Actualizar UI
            document.getElementById('total-cursos').textContent = totalCursos;
            document.getElementById('total-horas').textContent = totalHoras;
            document.getElementById('total-sct').textContent = totalSCT;
            document.getElementById('selected-cursos').textContent = selectedCursosCount;
        }

        // Inicializar la malla cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', initMalla);
    </script>
</body>
</html>
